# Telegram-бот с игрой по 4-му заданию из ЕГЭ по русскому языку
## Описание функционала бота
Бот реализует игру, цель которой - научиться правильно расставлять ударения в словах, которые часто попадаются в 4 задании ЕГЭ по русскому языку.   
Поиграть можно тут - @udareniya_ege_bot. Или можно его установить самостоятельно, для чего и был создан этот репозиторий.

### Главное меню.
После того, как вы запустили бота, вас встречает панель взаимодействия под строкой ввода текста:
![alt tag](https://i.imgur.com/whM9taT.png)
Пройдемся по каждой из кнопок:
* "слово!" - бот выдает вам задание: слово, в котором предстоит выбрать ударение.
* "статы" - бот присылает нашу личную статистику: рейтинг, место в топе, звание, количество правильных и неправильных ответов, текущий и максимальный стрики (кол-во отвеченных правильно подряд) и количество разблокированных слов.
* "топ" - при нажатии, бот предлагает выбрать, какой топ мы хотим посмотреть: по рейтингу, по стрику или по % правильных ответов.
* "достижения" - просмотр достижений, которые вы получили и какие еще предстоить получить
* "помощь" - кнопка с моим контактом в Telegram.
* "настройки" - очевидно, настройки.

### Игровой процесс.
Когда вы нажали на кнопку "слово!", вас встречает сообщение с заданием:  
![alt tag](https://i.imgur.com/sQMlCRm.png)  
Всё просто, перед вами слово, в котором нужно поставить ударение и варианты ответов, нажимаете на тот, который кажется вам правильным, получаете ответ, правильно ли вы ответили.

### Базовая механика игры:
* Если вы ответили правильно, вы получаете 1 единицу рейтинга, если отвечаете впервые на этот вопрос за цикл (о циклах в параграфе ниже) и получаете 2 единицы, если нет.
* Стрик - количество правильных / неправильных ответов подряд.
### Продвинутая часть механики игры:
Допустим, что на момент написания readme в базе вопросов игры N слов. 
Бот хранит для каждого слова информацию о том, ответил ли на него правильно пользователь. 
Тогда как подбирается очередное слово: если все слова были использованы, то каждое из них помечается как неиспользованное. 
Затем просто выбирается случайное неиспользованное слово.  
Конец одного цикла игры можно назвать момент, когда пользователь запросил слово, но во всех словах пользователь уже проставил ударение.  

## Установка на свой компьютер.
Для установки вам понадобится Python 3.9+ (возможно, и постарее подойдет, но я делал на 3.9.5, поэтому буду говорить только за эту версию). Если что, моя ОС - Windows 10. 
После установки ZIP-архива, разархивируйте его в удобную вам папку. После этого запустите командную строку, зайдите в корневую директорию с ботом и пропишите:  
```
pip install -r requirements.txt
```
С помощью этой команды вы установите все библиотеки, необходимые для работы с ботом. Далее запустите файл welcome.py:  
```
python welcome.py
```
Он создаст вам 2 папки и 1 файл.  
Папка dbs хранит в себе базы данных о пользователях, logs - логи работы. Файл .env понадобится нам, для того, чтобы вписать туда токен нашего бота.
Его нужно получить у Telegram-бота @BotFather.  
В файле .env пропишите полученный токен после BOT_TOKEN= без кавычек и чего-либо еще. Должно получиться примерно так:  
```
BOT_TOKEN=1827743807:AAHlesczDlh-9xrnsS6CpaybzYQC80kmL20 # пример токена
```
Дело за малым! Прописываем в командную строку
```
python main.py
```
и бот работает!
